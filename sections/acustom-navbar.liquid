<style>
  /* Sayfanın sağa sola kaymasını kökten engeller */
  html, body {
    overflow-x: hidden;
    width: 100%;
    position: relative;
  }

  /* Menü kabının da dışarı taşmasını önleyelim */
  .mobile-drawer {
    overflow-x: hidden;
  }

    /* --- MASAÜSTÜ (SABİT) --- */
    .custom-header {
      position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
      background: rgba(0,0,0,0); backdrop-filter: none;
      transform: translateY(-20px); opacity: 0;
      animation: navFadeIn 0.8s ease forwards; animation-delay: 0.3s;
    }

    @keyframes navFadeIn { to { transform: translateY(0); opacity: 1; } }

    .nav-container {
      max-width: 1200px; margin: 0 auto; padding: 24px 32px;
      display: grid; grid-template-columns: auto 1fr auto; align-items: center;
    }

    .nav-logo a { font-size: 18px; font-weight: 600; letter-spacing: 0.6px; color: #fff; text-decoration: none; }

    .nav-menu { display: flex; justify-content: center; }
    .nav-menu ul { display: flex; gap: 40px; list-style: none; margin: 0; padding: 0; }
    .nav-menu a { position: relative; font-size: 14px; letter-spacing: 0.4px; text-decoration: none; color: #fff; opacity: 0.85; }

    /* Hover Çizgi Efekti */
    .nav-menu a::after, .mobile-nav-links a::after {
      content: ""; position: absolute; left: 50%; transform: translateX(-50%); bottom: -6px; width: 0%; height: 2px; background: #fff; transition: width 0.3s ease;
    }
    .nav-menu a:hover::after, .mobile-nav-links a:hover::after { width: 100%; }

    .nav-icons { display: flex; gap: 20px; align-items: center; }
    .nav-icons a { position: relative; display: flex; align-items: center; text-decoration: none; color: #fff; }
    .nav-icons svg { stroke: currentColor; fill: none; width: 20px; height: 20px; }

    .cart-count {
      position: absolute; top: -6px; right: -10px; background: #fff; color: #000;
      font-size: 10px; padding: 2px 6px; border-radius: 12px;
    }

    /* --- MOBİL ÖZEL --- */
    .mobile-hamburger {
      display: none; cursor: pointer;
      position: relative; z-index: 1001;
    }

    .mobile-drawer {
      position: fixed; top: 0; left: -100%;
      width: 75%; height: 100vh;
      background: rgba(255, 255, 255, 0.05); /* SAYDAM ARKA PLAN */
      backdrop-filter: blur(30px); -webkit-backdrop-filter: blur(30px);
      z-index: 10000; transition: 0.5s cubic-bezier(0.77,0.2,0.05,1.0);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
    }
    .mobile-drawer.active { left: 0; }

    /* MOBİLDEKİ ÇARPI (KESİN ÇÖZÜM) */
    .drawer-close-trigger {
      position: absolute; top: 24px; left: 24px; cursor: pointer; color: #fff;
    }

    .drawer-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.4); z-index: 9000; display: none;
    }
    .drawer-overlay.active { display: block; }

    .mobile-nav-links { list-style: none; padding: 0; margin: 0; width: 100%; text-align: center; }
    .mobile-nav-links li { margin: 25px 0; }
    .mobile-nav-links a {
      color: #fff; font-size: 24px; font-weight: 700; text-decoration: none;
      text-transform: uppercase; position: relative; padding-bottom: 10px;
    }

    @media screen and (max-width: 990px) {
      .nav-menu { display: none; }
      .mobile-hamburger { display: block; }
      .nav-container { grid-template-columns: 1fr 2fr 1fr; padding: 20px; }
      .nav-logo { text-align: center; }
      .nav-icons { justify-content: flex-end; }
      .nav-icons a[aria-label="Account"] { display: flex; }
    }
</style>

<header class="custom-header">
  <div class="nav-container">
    <div class="mobile-hamburger" onclick="toggleMenu()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2">
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </div>

    <div class="nav-logo">
      <a href="{{ routes.root_url }}">Women's Wear</a>
    </div>

    <nav class="nav-menu">
      <ul>
        {% for link in linklists['main-menu'].links %}
          <li>
            <a href="{{ link.url }}">{{ link.title }}</a>
          </li>
        {% endfor %}
      </ul>
    </nav>

    <div class="nav-icons">
      <a href="{{ routes.search_url }}" aria-label="Search">
        <svg viewBox="0 0 24 24">
          <circle cx="11" cy="11" r="7" stroke-width="1.5"/><line x1="16.65" y1="16.65" x2="21" y2="21" stroke-width="1.5"/>
        </svg>
      </a>
      <a href="{{ routes.account_url }}" aria-label="Account">
        <svg viewBox="0 0 24 24">
          <circle cx="12" cy="8" r="4" stroke-width="1.5"/><path d="M4 20c0-4 4-6 8-6s8 2 8 6" stroke-width="1.5"/>
        </svg>
      </a>
      <a href="{{ routes.cart_url }}" aria-label="Cart">
        <svg viewBox="0 0 24 24">
          <path d="M3 3h2l2.5 12h10l2-8H7" stroke-width="1.5"/>
          <circle cx="10" cy="20" r="1.5" fill="currentColor" stroke="none"/>
          <circle cx="17" cy="20" r="1.5" fill="currentColor" stroke="none"/>
        </svg>
        {% if cart.item_count > 0 -%}
          <span class="cart-count">{{ cart.item_count }}</span>
        {%- endif %}
      </a>
    </div>
  </div>
</header>

<div class="mobile-drawer" id="mobileDrawer">
  <div class="drawer-close-trigger" onclick="toggleMenu()">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2">
      <line x1="18" y1="6" x2="6" y2="18"></line>
      <line x1="6" y1="6" x2="18" y2="18"></line>
    </svg>
  </div>

  <ul class="mobile-nav-links">
    {% for link in linklists['main-menu'].links %}
      <li>
        <a href="{{ link.url }}">{{ link.title }}</a>
      </li>
    {% endfor %}
  </ul>
</div>
<div class="drawer-overlay" id="drawerOverlay" onclick="toggleMenu()"></div>

<script>
  function toggleMenu() {
    const drawer = document.getElementById('mobileDrawer');
    const overlay = document.getElementById('drawerOverlay');

    drawer.classList.toggle('active');
    overlay.classList.toggle('active');

    // Sayfa kaymasını engelle
    document.body.style.overflow = drawer.classList.contains('active') ? 'hidden' : '';
  }
</script>
{% schema %}
{
  "name": "Custom Desktop Navbar",
  "settings": [],
  "presets": [
    {
      "name": "Custom Desktop Navbar"
    }
  ]
}
{% endschema %}
